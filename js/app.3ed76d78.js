(function(t){function e(e){for(var n,r,o=e[0],c=e[1],h=e[2],u=0,p=[];u<o.length;u++)r=o[u],a[r]&&p.push(a[r][0]),a[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,h||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,o=1;o<i.length;o++){var c=i[o];0!==a[c]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},a={app:0},s=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/3d-geometry/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var h=0;h<o.length;h++)e(o[h]);var l=c;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"2f4b":function(t,e,i){t.exports=i.p+"img/default1.b1bbec49.png"},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("097d");var n=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("fancy-avatars-canvas",{attrs:{size:t.size,amount:t.amount,type:t.type,avatars:t.avatars}}),i("div",{class:["controls",t.showOption?"active":""]},[i("div",{staticClass:"control"},[i("span",[t._v("Type ")]),i("label",{attrs:{for:"plane"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{id:"plane",type:"radio",name:"type",value:"plane"},domProps:{checked:t._q(t.type,"plane")},on:{change:function(e){t.type="plane"}}}),t._v("\n        plane\n      ")]),i("label",{attrs:{for:"sphere"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{id:"sphere",type:"radio",name:"type",value:"sphere"},domProps:{checked:t._q(t.type,"sphere")},on:{change:function(e){t.type="sphere"}}}),t._v("\n        sphere\n      ")]),i("label",{attrs:{for:"cylinder"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{id:"cylinder",type:"radio",name:"type",value:"cylinder"},domProps:{checked:t._q(t.type,"cylinder")},on:{change:function(e){t.type="cylinder"}}}),t._v("\n        cylinder\n      ")])]),i("div",{staticClass:"control"},[i("span",[t._v("Amount ")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.amount,expression:"amount",modifiers:{number:!0}}],attrs:{type:"text"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})]),i("div",{staticClass:"control"},[i("span",[t._v("Size ")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.size,expression:"size",modifiers:{number:!0}}],attrs:{type:"text"},domProps:{value:t.size},on:{input:function(e){e.target.composing||(t.size=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})]),i("div",{staticClass:"toggle-options",on:{click:function(e){t.showOption=!t.showOption}}},[t._v("\n      "+t._s(t.showOption?"Hide":"Show")+" Options\n    ")])])],1)},s=[],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"container"})},o=[],c=(i("c5f6"),i("2f4b")),h=i.n(c),l={name:"fancy-avatars-canvas",props:{type:{type:String,default:"sphere"},amount:{type:Number,default:200},size:{type:Number,default:80},avatars:{type:Array,default:function(){return[]}}},mounted:function(){this.setup(),window.addEventListener("resize",this.resize)},watch:{avatars:"init"},methods:{shuffle:function(t){var e,i,n;for(n=t.length-1;n>0;n-=1)e=Math.floor(Math.random()*(n+1)),i=t[n],t[n]=t[e],t[e]=i;return t},setup:function(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resize(),this.rotation=0,this.translate=0,this.direction=1,this.time=0,this.particles=[],this.init(),this.animate(),this.$refs.container.appendChild(this.canvas)},resize:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.canvas.width=this.width,this.canvas.height=this.height},init:function(){var t=this;if(!(this.avatars.length>this.amount))if(this.particles.length){var e=this.avatars.filter(function(e){return-1===t.shownAvatars.indexOf(e)});this.shownAvatars=this.avatars.slice(),e.map(function(e){return t.addParticle(e)})}else{for(var i=[],n=0;n<this.amount;n+=1){var a=new Image;a.src=this.avatars[n]||h.a,i.push({image:a,x:0,y:0,z:0,isDefault:!this.avatars[n]})}this.particles=this.shuffle(i),this.shownAvatars=this.avatars.slice()}},addParticle:function(t){var e=Math.floor(Math.random()*this.amount),i=new Image;i.src=t;while(!this.particles[e].isDefault)e+=1,e===this.amount&&(e=0);this.particles.splice(e,1,{image:i,x:0,y:0,z:0,isDefault:!1})},animate:function(){this.render(),this.time+=.01,this.time>Number.MAX_VALUE&&(this.time=0),requestAnimationFrame(this.animate)},render:function(){var t=this;this.calc(),this.context.clearRect(0,0,this.width,this.height),this.particles.map(function(e){var i=.1*Math.sin(t.time+.02*(e.x+e.y))+1,n=t.size*i;return t.context.save(),t.context.beginPath(),t.context.arc(e.x,e.y,n/2,0,2*Math.PI,!0),t.context.closePath(),t.context.strokeStyle="rgba(255, 255, 255, 0.1)",t.context.stroke(),t.context.clip(),t.context.globalAlpha=e.z/2+.5,t.context.drawImage(e.image,e.x-n/2,e.y-n/2,n,n),t.context.scale(2,2),t.context.restore(),!1})},calc:function(){switch(this.type){case"plane":this.calcPlane();break;case"cylinder":this.rotation+=.005,this.rotation>2*Math.Pi&&(this.rotation=0),this.translate+=1*this.direction,(this.translate<0||this.translate>this.height/2)&&(this.direction=-this.direction),this.calcCylinder();break;default:this.rotation+=.005,this.rotation>2*Math.Pi&&(this.rotation=0),this.calcSphere();break}},calcSphere:function(){for(var t=.4*this.height,e=0;e<this.amount;e+=1){var i=Math.acos(2*e/this.amount-1),n=Math.sqrt(this.amount*Math.PI)*i-this.rotation;this.particles[e].x=this.width/2+Math.cos(n)*Math.sin(i)*t,this.particles[e].y=this.height/2+Math.cos(i)*t,this.particles[e].z=Math.sin(n)*Math.sin(i)}},calcCylinder:function(){for(var t=.2*this.width,e=20,i=20,n=0;n<this.amount;n+=1){var a=n%e/e*2*Math.PI-this.direction*this.rotation;this.particles[n].x=this.width/2+Math.cos(a)*t,this.particles[n].y=this.height/2+n/e*(this.size+i)-this.translate,this.particles[n].z=Math.sin(a)}},calcPlane:function(){for(var t=this.size/8,e=this.size+2*t,i=Math.floor(this.width/e),n=0;n<this.amount;n+=1)this.particles[n].x=n%i*e+this.size/2+t,this.particles[n].y=Math.floor(n/i)*e+this.size,this.particles[n].z=1}},beforeDestroy:function(){window.removeEventListener("resize",this.resize)}},u=l,p=i("2877"),d=Object(p["a"])(u,r,o,!1,null,null,null);d.options.__file="fancy-avatars-canvas.vue";var f=d.exports,v=["https://tinypng.com/images/example-shrunk.png"],m=v,y={name:"app",components:{fancyAvatarsCanvas:f},data:function(){return{type:"sphere",amount:10,size:80,avatars:m,showOption:!0}},mounted:function(){var t=this;setInterval(function(){t.avatars.push("https://tinypng.com/images/example-shrunk.png?".concat(Date.now()))},4e3)}},g=y,w=(i("5d46"),Object(p["a"])(g,a,s,!1,null,null,null));w.options.__file="app.vue";var b=w.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(b)}}).$mount("#app")},"5d46":function(t,e,i){"use strict";var n=i("91bd"),a=i.n(n);a.a},"91bd":function(t,e,i){}});
//# sourceMappingURL=app.3ed76d78.js.map